<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<nav th:fragment="nav" class="navbar navbar-expand navbar-dark bg-dark static-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a th:href="@{/}" class="navbar-brand">TM Management</a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li sec:authorize="hasAuthority('ADMIN')"><a href="/admin/tmcheck">TM Check Management</a></li>
                <li sec:authorize="hasAuthority('ADMIN')"><a href="/admin/tmretreat">TM Retreat Management</a></li>
                <li sec:authorize="hasAuthority('ADMIN')"><a href="/admin/TM">Upload TM Attendance</a></li>
                <li class="dropdown" sec:authorize="hasAuthority('STUDENT') || hasAuthority('FACULTY') || hasAuthority('ADMIN')">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Reports <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li sec:authorize="hasAuthority('STUDENT')"><a th:href="@{/student/reports/mvc/totalStats}">Student Report</a></li>
                        <li sec:authorize="hasAuthority('FACULTY')"><a th:href="@{/faculty/reports/mvc/statsPerBlock}">Faculty Report</a></li>
                        <li sec:authorize="hasAuthority('ADMIN')"><a th:href="@{/admin/report}">Entry Report</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right" sec:authorize="isAuthenticated()">
                <li class="logout" style="padding-top: 15px;padding-bottom: 15px;">
                    Logged in user: <span sec:authentication="name"></span> |
                    Roles: <span sec:authentication="principal.authorities"></span>
                    <form action="#" th:action="@{/logout}" method="post" id="logoutForm">
                    </form>
                </li>
                <li><a href="javascript:document.getElementById('logoutForm').submit()">Log off</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right" sec:authorize="isAuthenticated() == false">
                <li><a th:href="@{/login}">Login</a></li>
            </ul>
        </div>
    </div>
    <!---->
    <!--<a class="navbar-brand mr-1" href="index.html" th:href="@{/index}">-->
        <!--<div class="nav-header">-->
            <!--<div class="logo"> Maharishi University<span>OF MANAGEMENT</span></div>-->
        <!--</div>-->
    <!--</a>-->


    <!-- Navbar -->
    <!--<ul class="navbar-nav ml-auto">-->
        <!--<li class="nav-item dropdown no-arrow active">-->
           <!--Welcome to register.cs-->
        <!--</li>-->
        <!--<li class="nav-item dropdown no-arrow">-->
           <!---->
            <!--<div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">-->
                <!--<a class="dropdown-item" href="#" th:href="@{~/logout}">-->
                    <!--Logout-->
                <!--</a>-->
            <!--</div>-->
        <!--</li>-->
    <!--</ul>-->

</nav>
</body>
</html>